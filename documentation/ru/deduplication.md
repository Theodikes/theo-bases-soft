## Общее описание и примеры

Удаляет все совпадающие строки из файла. Создаёт новый файл, в который записывает все строки без повторений, исходный файл не изменяется. Учитывает пробельные символы, то есть, если в одной строке в конце два пробела, а в другой один - это разные строки. Работает с любыми строками, это не обязательно должны быть базы.

**Пример:** входной файл `test.txt`, команда `theo d test.txt`, итоговый файл - `test_dedup.txt`

*test.txt*

```
test@gmail.com:test

test@gmail.com:password

somestring@test.com:test
test@gmail.com:password
```

*test_dedup.txt*

```
test@gmail.com:test

test@gmail.com:password
somestring@test.com:test
```

Как видно, пустые строки тоже считаются дубликатами и удаляются. Записывается в итоговый файл всегда только первое совпадение, все повторы, идущие ниже, не записываются.

При выполнении данной команды по умолчанию для удаления дубликатов используется оперативная память. Всего памяти будет занято не более 85% от размера входного файла, если в нём строки средней длины не менее 20 символов. При недостатке оперативной памяти для обработки файла, программа прямо во время выполнения может перейти на использование дискового пространства для сохранения временных данных, что сильно замедлит выполнение, однако позволит удалять дубликаты из баз, практически неограниченных по размеру.



## Опции запуска

#### Основные опции:

- `-m` или `--memory` - число от 1 до 100. Общий максимальный процент используемой оперативной памяти, после достижения которой программа переходит на использование дискового пространства для удаления дубликатов. Значение по умолчанию - 90. То есть, если все процессы на вашем устройстве в сумме будут использовать более 90% от имеющейся оперативной памяти, дедупликатор начнёт использовать диск и не будет больше наращивать использование оперативки. Желательно не менять значение данного параметра без веских на то причин.

  **Внимание!** После перехода на использование дисковой памяти, уже занятая программой оперативная память не освободится до удаления всех дубликатов.



#### Файловые опции:

- `-d` или `--destination` - путь к итоговому файлу, куда будут записаны все строки без дубликатов. По умолчанию итоговый файл создаётся в директории, где была запущена программа, а название будет как у входного файла, но с добавлением `_dedup` в конец, до расширения. 

  **Пример:** Консоль открыта в директории `/test`, и в ней же лежит файл `example.txt`. 
  После выполнения команды `theo d example.txt` итоговым файлом будет `example_dedup.txt` в директории `/test`.
  Если пользователь задаст значение параметра при вызове, например, `theo d -d result_dedup.txt example.txt`, то итоговым файлом будет `result_dedup.txt` в директории `/test`.

